<!DOCTYPE html>
<html>
	<head>
		<title>This is the title</title>
		<link rel="stylesheet" href="mystyle.css">	
	</head>
	<body>

		<h2>XMLHttpRequest</h2>
		<button type="button" onclick="loadDoc()">Show Score</button>
		<br><br>
		<table id="example"></table>

		<script>
			function loadDoc() {
				const xhttp = new XMLHttpRequest();

				xhttp.onload = function() {
					myFunction(this);
				}

				xhttp.open("GET", "./exam.xml");
				xhttp.send();
			}

			function myFunction(xml) {
				const xmlDoc = xml.responseXML;
				const x = xmlDoc.getElementsByTagName("EXAM");
				let table="<tr><th>StudentID</th><th>Name</th><th>Score</th></tr>";

				for (let i = 0; i <x.length; i++) { 
					table += "<tr><td>" +
					x[i].getElementsByTagName("STUDENTID")[0].childNodes[0].nodeValue +
					"</td><td>" +
					x[i].getElementsByTagName("NAME")[0].childNodes[0].nodeValue +
					"</td><td>" +					
					x[i].getElementsByTagName("MID")[0].childNodes[0].nodeValue +
					"</td></tr>";
				}
  
				document.getElementById("example").innerHTML = table;
			}
		</script>

	</body>
</html>


